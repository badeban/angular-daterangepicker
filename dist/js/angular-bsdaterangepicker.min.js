"use strict";function datepickerDefaults(e){var t={timePicker12Hour:!1,timePickerSeconds:!1,applyClass:"btn-primary",cancelClass:"btn-default",buttonClasses:"btn btn-sm btn-flat",locale:{format:"YYYY-MM-DD",separator:" - "}};if(e.has("$translate")){var n=e.get("$translate");"DATEPICKER.FORMAT"!=n.instant("DATEPICKER.FORMAT")&&_.merge(t,{clearLabel:n.instant("DATEPICKER.CLEAR"),locale:{weekLabel:n.instant("DATEPICKER.WEEKLABEL"),separator:n.instant("DATEPICKER.SEPARATOR"),applyLabel:n.instant("DATEPICKER.APPLY"),fromLabel:n.instant("DATEPICKER.FROM"),toLabel:n.instant("DATEPICKER.TO"),cancelLabel:n.instant("DATEPICKER.CANCEL"),customRangeLabel:n.instant("DATEPICKER.CUSTOM"),format:n.instant("DATEPICKER.FORMAT")}})}return Object.freeze(t),t}function localisation(e){if(e.has("$translateProvider")){var t=e.get("$translateProvider");t.translations("en",{DATEPICKER:{APPLY:"Apply",FROM:"From",TO:"To",CANCEL:"Cancel",CUSTOM:"Custom range",SEPARATOR:" - ",WEEKLABEL:"W",CLEAR:"Clear",FORMAT:"YYYY-MM-DD"}}).translations("de",{DATEPICKER:{APPLY:"Übernehmen",FROM:"Von",TO:"Bis",CANCEL:"Abbrechen",CUSTOM:"Benutzerdefiniert",SEPARATOR:" - ",WEEKLABEL:"KW",CLEAR:"Löschen",FORMAT:"DD.MM.YYYY"}}).preferredLanguage("de")}}function dateRangePicker(e,t){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(n,a,r,i){function o(){var t,a;P.daterangepicker(angular.extend(g,{autoUpdateInput:!1}),function(e,t){return n.$apply(function(){var a,r,o;for(n.model=g.singleDatePicker?e:{startDate:e,endDate:t},a=i.$formatters,r=a.length,o=n.model;r--;)o=a[r](o);return i.$viewValue=i.$$lastCommittedViewValue=o,i.$modelValue=n.model,i.$render(),i.$$writeModelToScope()})}),R=P.data("daterangepicker"),a=[];for(t in g.eventHandlers)a.push(P.on(t,function(t,a){var r;return r=t.type+"."+t.namespace,n.$evalAsync(function(){return e(g.eventHandlers[r])(t,a)})}));return a}function l(e){if(R&&e)return R.endDate<e&&R.setEndDate(e),g.startDate=e,R.setStartDate(e)}function u(e){if(R&&e)return R.startDate>e&&R.setStartDate(e),g.endDate=e,R.setEndDate(e)}function c(e,t,a,l){if(r[e])return i.$validators[e]=function(e){return e&&t(g[l],e[a])},n.$watch(e,function(e){return g[l]=!!e&&moment(e),o()})}function s(e){return function(t,n){return!t||!n||e(moment(t),moment(n))}}function f(){return s(function(e,t){return e.isBefore(t)||e.isSame(t,"day")})}function d(){return s(function(e,t){return e.isAfter(t)||e.isSame(t,"day")})}function D(){return R.setStartDate(),R.setEndDate()}function m(e){return!(angular.isString(e)&&e.length>0)}function E(e){function t(e){return moment(e,g.locale.format)}var n,a;return n={startDate:null,endDate:null},angular.isString(e)&&e.length>0&&(g.singleDatePicker?n=t(e):(a=e.split(g.locale.separator).map(t),n.startDate=a[0],n.endDate=a[1])),n}function A(){return i.$modelValue&&i.$modelValue.startDate?(l(i.$modelValue.startDate),u(i.$modelValue.endDate)):D(),P.val(i.$viewValue)}function p(e){function t(e){return moment.isMoment(e)?e.format(g.locale.format):moment(e).format(g.locale.format)}return g.singleDatePicker&&(e||0===e)?t(e):!g.singleDatePicker&&e&&e.startDate?[t(e.startDate),t(e.endDate)].join(g.locale.separator):""}var $=n.opts,P=jQuery(a),g=_.merge({},t,$),R=void 0;return i.$formatters.push(p),i.$render=A,i.$parsers.push(E),i.$isEmpty=m,o(),g.singleDatePicker?n.$watch("model",function(e){if(e)return l(e.startDate?e.startDate:e)}):(n.$watch("model.startDate",function(e){return l(e)}),n.$watch("model.endDate",function(e){return u(e)})),c("min",f,"startDate","minDate"),c("max",d,"endDate","maxDate"),r.options&&n.$watch("opts",function(e){return _.merge(g,e),o()},!0),r.clearable&&n.$watch("clearable",function(e){if(e&&_.merge(g,{locale:{cancelLabel:g.clearLabel}}),o(),e)return P.on("cancel.daterangepicker",function(){return n.$apply(function(){return n.model=g.singleDatePicker?null:{startDate:null,endDate:null}})})}),n.$on("$destroy",function(){return null!=R?R.remove():void 0})}}}datepickerDefaults.$inject=["$injector"],localisation.$inject=["$injector"],dateRangePicker.$inject=["$parse","DATEPICKER_DEFAULTS"],angular.module("angular-bsdaterangepicker",[]).factory("DATEPICKER_DEFAULTS",datepickerDefaults).config(localisation).directive("dateRangePicker",dateRangePicker);
//# sourceMappingURL=angular-bsdaterangepicker.min.js.map
